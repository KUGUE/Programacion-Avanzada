<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
	<canvas id="mycanvas" width="500" height="500">PruebaCanvas no jala</canvas>
	<script type="text/javascript">
	var cv = document.getElementById('mycanvas');
	var ctx= cv.getContext('2d')
 	var color = 'green';
	var fig = 'arc';
			
			cv.addEventListener('click',function(e){ 
				ctx.fillStyle = color;
			if (fig=='rec') {  
				
				ctx.fillRect(e.offsetX-20,e.offsetY-20,40,40);
				ctx.strokeRect(e.offsetX-20,e.offsetY-20,40,40);
			}else{
				
				ctx.beginPath();
				ctx.arc(e.offsetX-20,e.offsetY-20,40,0,2*Math.PI);
				ctx.fill();
				ctx.stroke();
			}
		})
		
		cv.addEventListener('mouseover',function(e){
			color = RGBRANDOM();
		})
		
		function RGBRANDOM() {
		    var o = Math.round, r = Math.random, s = 255;
		    return 'rgba(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',' + r().toFixed(1) + ')';
		}
		
		</script>
	</body>
</html>